webpackJsonp([1],{103:function(t,n,s){"use strict";var e=function(){var t=this,n=t.$createElement,s=t._self._c||n;return s("footer",{staticClass:"footer player-component"},[s("a",{staticClass:"button flat",staticStyle:{float:"right"},on:{click:function(n){t.hidePlayer=!t.hidePlayer}}},[s("i",{staticClass:"material-icons"},[t._v("\n      "+t._s(t.hidePlayer?"keyboard_arrow_up":"keyboard_arrow_down")+"\n    ")])]),t._v(" "),s("div",{class:{"player-hiden":t.hidePlayer,"player-container":!0}},[s("youtube",{ref:"youtube",attrs:{"player-vars":t.playerVars,"video-id":t.currentSong.videoId,width:"auto",height:"200px"},on:{paused:t.paused,playing:t.playing,ended:t.nextSong}})],1),t._v(" "),s("progress",{staticClass:"progress is-warning",attrs:{max:"100"},domProps:{value:t.progress}}),t._v(" "),s("div",{staticClass:"player-buttons"},[s("button",{staticClass:"button",on:{click:function(n){t.playVideo()}}},[s("i",{staticClass:"material-icons"},[t._v("play_arrow")])]),t._v(" "),s("button",{staticClass:"button",on:{click:function(n){t.pauseVideo()}}},[s("i",{staticClass:"material-icons"},[t._v("pause")])]),t._v(" "),s("button",{staticClass:"button",on:{click:function(n){t.nextSong()}}},[s("i",{staticClass:"material-icons"},[t._v("skip_next")])])]),t._v(" "),s("div",{staticClass:"song-info"},[t._v("\n    "+t._s(t.currentSong.title)+"\n  ")])])},a=[],i={render:e,staticRenderFns:a};n.a=i},104:function(t,n,s){"use strict";var e=function(){var t=this,n=t.$createElement,s=t._self._c||n;return s("div",{attrs:{id:"app"}},[s("main",[s("router-view")],1),t._v(" "),s("Player")],1)},a=[],i={render:e,staticRenderFns:a};n.a=i},105:function(t,n,s){"use strict";var e=s(18),a=s(106),i=s(107);e.a.use(a.a),n.a=new a.a({routes:[{path:"/",name:"Home",component:i.a}]})},107:function(t,n,s){"use strict";function e(t){s(108)}var a=s(46),i=s(140),r=s(8),o=e,l=r(a.a,i.a,!1,o,"data-v-35e3a36c",null);n.a=l.exports},108:function(t,n){},109:function(t,n,s){"use strict";function e(t){s(110)}var a=s(47),i=s(111),r=s(8),o=e,l=r(a.a,i.a,!1,o,"data-v-f09734cc",null);n.a=l.exports},110:function(t,n){},111:function(t,n,s){"use strict";var e=function(){var t=this,n=t.$createElement,s=t._self._c||n;return s("nav",{staticClass:"navbar is-dark"},[s("div",{staticClass:"navbar-brand"},[t._m(0),t._v(" "),s("div",{staticClass:"navbar-burger",class:{"is-active":t.showNav},on:{click:function(n){t.toggleNav()}}},[s("span"),t._v(" "),s("span"),t._v(" "),s("span")])]),t._v(" "),s("div",{staticClass:"navbar-menu",class:{"is-active":t.showNav}},[t._m(1)])])},a=[function(){var t=this,n=t.$createElement,s=t._self._c||n;return s("a",{staticClass:"navbar-item",attrs:{href:"/"}},[s("img",{attrs:{src:"https://s3.us-east-2.amazonaws.com/elasticbeanstalk-us-east-2-937989723734/assets/apple-touch-icon.png",alt:"Logo"}})])},function(){var t=this,n=t.$createElement,s=t._self._c||n;return s("div",{staticClass:"navbar-end"},[s("a",{staticClass:"navbar-item",attrs:{target:"_blank",href:"https://luishck.github.io/"}},[t._v("\n            About\n          ")]),t._v(" "),s("a",{staticClass:"navbar-item",attrs:{target:"_blank",href:"https://luishck.github.io/posts/"}},[t._v("\n            Blog\n          ")]),t._v(" "),s("a",{staticClass:"navbar-item",attrs:{target:"_blank",href:"https://github.com/LuisHCK/tubefy"}},[t._v("\n            Fork me on GitHub â¤\n          ")])])}],i={render:e,staticRenderFns:a};n.a=i},112:function(t,n,s){"use strict";function e(t){s(113)}var a=s(48),i=s(114),r=s(8),o=e,l=r(a.a,i.a,!1,o,"data-v-64652000",null);n.a=l.exports},113:function(t,n){},114:function(t,n,s){"use strict";var e=function(){var t=this,n=t.$createElement,s=t._self._c||n;return s("div",{staticClass:"playlist-component"},[s("h2",{staticClass:"is-size-4"},[t._v("Playlists")]),t._v(" "),s("br"),t._v(" "),s("div",{staticClass:"columns is-mobile"},[s("div",{staticClass:"column is-one-third-mobile is-one-quarter-desktop playlists"},[s("ul",t._l(t.playlists,function(n,e){return s("li",{key:"pl_"+e},[s("a",{staticClass:"navbar-item is-size-6-mobile",on:{click:function(s){t.selectCurrentPlaylist(n)}}},[t._v(t._s(n.title))])])}))]),t._v(" "),s("div",{staticClass:"column"},[s("ul",t._l(t.currentPlaylist.songs,function(n,e){return t.currentPlaylist?s("li",{key:"song_"+e},[s("a",{staticClass:"navbar-item is-size-7-mobile",on:{click:function(s){t.playSong(n,e)}}},[t._v(t._s(n.title))])]):t._e()}))])])])},a=[],i={render:e,staticRenderFns:a};n.a=i},115:function(t,n,s){"use strict";var e=s(116),a=s.n(e),i=s(117),r=s.n(i),o=s(121),l=s.n(o),c=s(28),u=s(54),p=l.a.create({baseURL:"https://www.googleapis.com/youtube/v3/playlistItems"}),v=function(){function t(){a()(this,t),this.playListTiems=[]}return r()(t,[{key:"getPlaylistItems",value:function(t){var n=this,s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0,e=arguments.length>2&&void 0!==arguments[2]?arguments[2]:void 0;p.get("",{params:{part:"snippet",maxResults:50,fields:"items(contentDetails/videoId,id,snippet(resourceId/videoId,title)),nextPageToken,pageInfo,prevPageToken,tokenPagination",playlistId:t,key:"AIzaSyAJ1-y_cXzOzjWUUFYRBur1kA-0JNQQias",pageToken:s}}).then(function(s){s.data.items.map(function(t){n.playListTiems.push(t)}),s.data.nextPageToken?n.getPlaylistItems(t,s.data.nextPageToken,e):n.processPlaylist(n.playListTiems,e)}).catch(function(t){console.log(t)})}},{key:"processPlaylist",value:function(t,n){var s=[];t.map(function(t){s.push({title:t.snippet.title||"Youtube playlist",videoId:t.snippet.resourceId.videoId})});var e={title:n,songs:s};c.a.playlists.add(e).then(function(){alert("Playlist created successfully"),c.a.playlists.toArray().then(function(t){u.a.commit("setPlaylists",t)})})}},{key:"test",value:function(){this.getPlaylistItems("PLb-I-6VXFXuG6hfsIF4mhGhSYozIphUXV")}}]),t}();n.a=v},140:function(t,n,s){"use strict";var e=function(){var t=this,n=t.$createElement,s=t._self._c||n;return s("div",{staticClass:"home-page"},[s("Header"),t._v(" "),s("div",{staticClass:"container"},[s("button",{staticClass:"button is-rounded is-primary",on:{click:function(n){t.showForm=!t.showForm}}},[t._v("Add new Playlist")]),t._v(" "),t.showForm?s("v-form",[s("div",{staticClass:"field"},[s("div",{staticClass:"control"},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.playlistId,expression:"playlistId"}],staticClass:"input is-primary",attrs:{placeholder:"Youtube Playlist URL",type:"text"},domProps:{value:t.playlistId},on:{input:function(n){n.target.composing||(t.playlistId=n.target.value)}}})])]),t._v(" "),s("div",{staticClass:"field"},[s("div",{staticClass:"control"},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.playlistTitle,expression:"playlistTitle"}],staticClass:"input is-primary",attrs:{type:"text",placeholder:"Playlist Title"},domProps:{value:t.playlistTitle},on:{input:function(n){n.target.composing||(t.playlistTitle=n.target.value)}}})])]),t._v(" "),s("button",{staticClass:"button is-success is-rounded",on:{click:function(n){t.createPlaylist()}}},[t._v("Get Playlist")])]):t._e()],1),t._v(" "),s("div",{staticClass:"container"},[s("Playlist")],1)],1)},a=[],i={render:e,staticRenderFns:a};n.a=i},142:function(t,n){},28:function(t,n,s){"use strict";var e=s(102),a=new e.a("wrkstation");a.version(1).stores({videos:"++id, name, url, favorite",playlists:"++id, title, *songs"}),n.a=a},31:function(t,n,s){"use strict";var e=s(60);n.a={components:{Player:e.a},name:"app"}},32:function(t,n,s){"use strict";var e=s(62),a=s.n(e),i=s(65),r=s.n(i),o=s(17),l=s(28);n.a={computed:Object(o.b)({player:function(){return this.$refs.youtube.player},currentPlaylist:function(t){return t.currentPlaylist},currentSong:function(t){return t.currentSong},currentSongIndex:function(t){return t.currentSongIndex}}),data:function(){return{playerVars:{autoplay:1},songId:null,duration:0,time:0,progress:0,processId:null,hidePlayer:!0,isPlaying:!1}},methods:{playVideo:function(){this.duration=0,this.progress=0,this.isPlaying=!0,this.player.playVideo()},playing:function(){var t=this;return r()(a.a.mark(function n(){var s;return a.a.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,t.player.getDuration();case 2:s=n.sent,t.processId=setInterval(function(){t.player.getCurrentTime().then(function(n){var e=n/s*100;t.progress=e<100?e:100,t.updateTime(n+1)})},100);case 4:case"end":return n.stop()}},n,t)}))()},updateTime:function(t){t=Math.round(t);var n=Math.floor(t/60),s=t-60*n;s=s<10?"0"+s:s,n=n<10?"0"+n:n,this.time=n+":"+s},pauseVideo:function(){this.player.pauseVideo()},paused:function(){this.isPlaying=!1,clearInterval(this.processId)},nextSong:function(){this.paused();var t=this.currentPlaylist.songs[this.currentSongIndex+1];this.$store.commit("playSong",t),this.$store.commit("setCurrentSongIndex",this.currentSongIndex+1)},checkCurrentPlaylist:function(){var t=this;l.a.playlists.toArray(function(n){if(t.currentPlaylist.length<1){var s=n.length-1;n.length>=0&&t.$store.commit("setCurrentPlaylist",n[s])}else n&&n.length>0&&t.$store.commit("setCurrentPlaylist",n[0])})}},mounted:function(){console.log(this.currentSongIndex),this.checkCurrentPlaylist(),this.player.setPlaybackQuality("small")}}},46:function(t,n,s){"use strict";var e=s(109),a=s(112),i=s(115),r=s(28),o=new i.a;n.a={components:{Header:e.a,Playlist:a.a},data:function(){return{playlistId:"",playlistTitle:"Youtube playlist",showForm:!1}},methods:{createPlaylist:function(){o.getPlaylistItems(this.parseYoutubePlaylist(this.playlistId),void 0,this.playlistTitle)},getPlaylistsInDB:function(){var t=this;r.a.playlists.toArray().then(function(n){t.$store.commit("setPlaylists",n)}).catch(function(t){return console.log(t)})},parseYoutubePlaylist:function(t){var n=t.split("=");return n.length<2?(alert("Invalid URL"),""):n[1]}},created:function(){this.getPlaylistsInDB()}}},47:function(t,n,s){"use strict";var e=s(17);n.a={computed:Object(e.b)({showNav:function(t){return t.showNav}}),data:function(){return{}},methods:{toggleNav:function(){this.$store.commit("toggleNav")}}}},48:function(t,n,s){"use strict";var e=s(17);n.a={computed:Object(e.b)({playlists:function(t){return t.playlists},currentPlaylist:function(t){return t.currentPlaylist},currentSong:function(t){return t.currentSong}}),methods:{playSong:function(t,n){this.$store.commit("playSong",t),this.$store.commit("setCurrentSongIndex",n)},selectCurrentPlaylist:function(t){this.$store.commit("setCurrentPlaylist",t)}},mounted:function(){}}},54:function(t,n,s){"use strict";var e=s(17);s(18).a.use(e.a);var a={playlists:[],currentPlaylist:{songs:[]},currentSong:{title:"Select a song",videoId:""},showNav:!1,currentSongIndex:0},i={playlists:function(t){return t.playlists},currentPlaylist:function(t){return t.currentPlaylist},currentSong:function(t){return t.currentSong},currentSongIndex:function(t){return t.currentSongIndex},showNav:function(t){return t.showNav}},r={setPlaylists:function(t,n){t.playlists=n},setCurrentPlaylist:function(t,n){t.currentPlaylist=n},addPlaylist:function(t,n){t.playlists.push()},playSong:function(t,n){t.currentSong=n},setCurrentSongIndex:function(t,n){t.currentSongIndex=n},toggleNav:function(t){t.showNav=!t.showNav}};n.a=new e.a.Store({state:a,getters:i,mutations:r})},55:function(t,n,s){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var e=s(18),a=s(57),i=s(105),r=s(141),o=s.n(r),l=s(142),c=(s.n(l),s(54)),u=s(143),p=s.n(u);e.a.use(p.a),e.a.use(o.a),e.a.config.productionTip=!1,new e.a({el:"#app",store:c.a,router:i.a,template:"<App/>",components:{App:a.a}})},57:function(t,n,s){"use strict";function e(t){s(58)}var a=s(31),i=s(104),r=s(8),o=e,l=r(a.a,i.a,!1,o,null,null);n.a=l.exports},58:function(t,n){},60:function(t,n,s){"use strict";function e(t){s(61)}var a=s(32),i=s(103),r=s(8),o=e,l=r(a.a,i.a,!1,o,"data-v-84c279a0",null);n.a=l.exports},61:function(t,n){}},[55]);
//# sourceMappingURL=app.5645dff9c2b3426f30dc.js.map